(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-232cf6f6"],{"3cbd":function(e,t,a){},a434:function(e,t,a){"use strict";var i=a("23e7"),n=a("23cb"),r=a("a691"),o=a("50c4"),l=a("7b0b"),d=a("65f0"),c=a("8418"),u=a("1dde"),s=a("ae40"),m=u("splice"),f=s("splice",{ACCESSORS:!0,0:0,1:2}),p=Math.max,h=Math.min,b=9007199254740991,v="Maximum allowed length exceeded";i({target:"Array",proto:!0,forced:!m||!f},{splice:function(e,t){var a,i,u,s,m,f,y=l(this),F=o(y.length),C=n(e,F),g=arguments.length;if(0===g?a=i=0:1===g?(a=0,i=F-C):(a=g-2,i=h(p(r(t),0),F-C)),F+a-i>b)throw TypeError(v);for(u=d(y,i),s=0;s<i;s++)m=C+s,m in y&&c(u,s,y[m]);if(u.length=i,a<i){for(s=C;s<F-i;s++)m=s+i,f=s+a,m in y?y[f]=y[m]:delete y[f];for(s=F;s>F-i+a;s--)delete y[s-1]}else if(a>i)for(s=F-i;s>C;s--)m=s+i-1,f=s+a-1,m in y?y[f]=y[m]:delete y[f];for(s=0;s<a;s++)y[s+C]=arguments[s+2];return y.length=F-i+a,u}})},ad8f:function(e,t,a){"use strict";a.d(t,"j",(function(){return n})),a.d(t,"f",(function(){return r})),a.d(t,"e",(function(){return o})),a.d(t,"a",(function(){return l})),a.d(t,"q",(function(){return d})),a.d(t,"k",(function(){return c})),a.d(t,"m",(function(){return u})),a.d(t,"t",(function(){return s})),a.d(t,"i",(function(){return m})),a.d(t,"d",(function(){return f})),a.d(t,"g",(function(){return p})),a.d(t,"l",(function(){return h})),a.d(t,"b",(function(){return b})),a.d(t,"r",(function(){return v})),a.d(t,"h",(function(){return y})),a.d(t,"p",(function(){return F})),a.d(t,"c",(function(){return C})),a.d(t,"u",(function(){return g})),a.d(t,"s",(function(){return V})),a.d(t,"n",(function(){return N})),a.d(t,"o",(function(){return O}));var i=a("b775");function n(e){return Object(i["a"])({url:"/eviChain/product/list",method:"post",data:e})}function r(){return Object(i["a"])({url:"/eviChain/user/chainInfo",method:"post"})}function o(e){return Object(i["a"])({url:"/eviChain/user/deployContract",method:"post",data:e})}function l(e){return Object(i["a"])({url:"/eviChain/product/add",method:"post",data:e})}function d(e){return Object(i["a"])({url:"/eviChain/product/modify",method:"post",data:e})}function c(){return Object(i["a"])({url:"/eviChain/product/selectList",method:"post"})}function u(e){return Object(i["a"])({url:"/eviChain/step/selectList",method:"post",data:e})}function s(e){return Object(i["a"])({url:"/eviChain/file/upload",method:"post",data:e})}function m(e){return Object(i["a"])({url:"/eviChain/field/selectList",method:"post",data:e})}function f(e){return Object(i["a"])({url:"/eviChain/field/add",method:"post",data:e})}function p(e){return Object(i["a"])({url:"/eviChain/data/list",method:"post",data:e})}function h(e){return Object(i["a"])({url:"/eviChain/step/list",method:"post",data:e})}function b(e){return Object(i["a"])({url:"/eviChain/step/add",method:"post",data:e})}function v(e){return Object(i["a"])({url:"/eviChain/step/modify",method:"post",data:e})}function y(e){return Object(i["a"])({url:"/eviChain/field/list",method:"post",data:e})}function F(e){return Object(i["a"])({url:"/eviChain/field/modify",method:"post",data:e})}function C(e){return Object(i["a"])({url:"/eviChain/data/bqSave",method:"post",data:e})}function g(e){return Object(i["a"])({url:"/eviChain/data/validChain",method:"post",data:e})}function V(e){return Object(i["a"])({url:"/eviChain/data/previewChain",method:"post",data:e})}function N(){return Object(i["a"])({url:"/eviChain/data/getTotalInfo",method:"post"})}function O(e){return Object(i["a"])({url:"/eviChain/user/"+e,method:"post"})}},ce40:function(e,t,a){"use strict";a("3cbd")},e725:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"create-form"},[a("el-form",{ref:"dynamicValidateForm",staticClass:"demo-dynamic",attrs:{model:e.dynamicValidateForm,rules:e.createRules,"label-width":"100px"}},[a("el-form-item",{attrs:{prop:"productId",label:"产品"}},[a("el-select",{staticClass:"select-32",staticStyle:{width:"455px"},attrs:{clearable:""},on:{change:e.changeProduct},model:{value:e.dynamicValidateForm.productId,callback:function(t){e.$set(e.dynamicValidateForm,"productId",t)},expression:"dynamicValidateForm.productId"}},e._l(e.productList,(function(t){return a("el-option",{key:t.productName,attrs:{label:t.productName,value:t.id}},[a("span",{staticClass:"font-color-ed5454"},[e._v(e._s(t.productName))])])})),1)],1),a("el-form-item",{attrs:{prop:"stepId",label:"节点"}},[a("el-select",{staticClass:"select-32",staticStyle:{width:"455px"},attrs:{clearable:""},on:{change:e.changeStep},model:{value:e.dynamicValidateForm.stepId,callback:function(t){e.$set(e.dynamicValidateForm,"stepId",t)},expression:"dynamicValidateForm.stepId"}},e._l(e.stepList,(function(t){return a("el-option",{key:t.stepName,attrs:{label:t.stepName,value:t.id}},[a("span",{staticClass:"font-color-ed5454"},[e._v(e._s(t.stepName))])])})),1)],1),a("el-form-item",{attrs:{prop:"userName",label:"用户名称"}},[a("el-input",{staticStyle:{width:"455px"},model:{value:e.dynamicValidateForm.userName,callback:function(t){e.$set(e.dynamicValidateForm,"userName",t)},expression:"dynamicValidateForm.userName"}})],1),a("el-form-item",{attrs:{prop:"identType",label:"证件类型"}},[a("el-select",{staticClass:"select-32",staticStyle:{width:"455px"},attrs:{clearable:""},model:{value:e.dynamicValidateForm.identType,callback:function(t){e.$set(e.dynamicValidateForm,"identType",t)},expression:"dynamicValidateForm.identType"}},[a("el-option",{attrs:{label:"身份证",value:"身份证"}}),a("el-option",{attrs:{label:"组织机构代码",value:"组织机构代码"}})],1)],1),a("el-form-item",{attrs:{prop:"identNo",label:"证件号"}},[a("el-input",{staticStyle:{width:"455px"},model:{value:e.dynamicValidateForm.identNo,callback:function(t){e.$set(e.dynamicValidateForm,"identNo",t)},expression:"dynamicValidateForm.identNo"}})],1),e._l(e.dynamicValidateForm.itemList,(function(t,i){return a("el-form-item",{key:t.key,staticClass:"demo-form-inline",attrs:{label:"存证要素"+i}},[a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"",prop:"itemList."+i+".chName"}},[a("el-input",{attrs:{value:t.chName,disabled:!0}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"",prop:"itemList."+i+".enValue",rules:e.createRules.enValue}},[a("el-input",{attrs:{placeholder:"要素值"},model:{value:t.enValue,callback:function(a){e.$set(t,"enValue",a)},expression:"chain.enValue"}})],1)],1)],1)],1)})),a("el-form-item",{attrs:{label:"存证文件"}},[a("el-upload",{staticClass:"upload-demo",attrs:{action:"","http-request":e.uploadFile,"auto-upload":!0,"on-remove":e.handleRemove,"before-remove":e.beforeRemove,multiple:"",limit:3,"on-exceed":e.handleExceed,"file-list":e.fileList}},[a("el-button",{attrs:{size:"small",type:"primary"}},[e._v("点击上传")])],1)],1),a("el-form-item",[a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary"},on:{click:function(t){return e.submitForm("dynamicValidateForm")}}},[e._v("提交 ")])],1)],2)],1)])},n=[],r=(a("159b"),a("b0c0"),a("a434"),a("99af"),a("ad8f")),o={data:function(){return{createRules:{productId:[{required:!0,message:"请选择产品",trigger:"blur"}],stepId:[{required:!0,message:"请选择节点",trigger:"blur"}],userName:[{required:!0,message:"请输入用户名称",trigger:"blur"}],identNo:[{required:!0,message:"请输入证件号",trigger:"blur"}],identType:[{required:!0,message:"请选择证件类型",trigger:"blur"}],enValue:[{required:!0,message:"请输入要素值",trigger:"blur"}]},fileList:[],productList:[],stepList:[],dynamicValidateForm:{itemList:[{enName:"snNo",chName:"存证流水号",enValue:""}],addedFileList:[],userName:"",identNo:"",identType:"",productId:null,stepId:null}}},created:function(){var e=this;Object(r["k"])().then((function(t){e.productList=t.data}))},methods:{changeProduct:function(e){var t=this;this.stepList=[],this.dynamicValidateForm.stepId=null,this.dynamicValidateForm.itemList.forEach((function(e,a){t.removeChain(e,a)}));var a={productId:e};Object(r["m"])(a).then((function(e){t.stepList=e.data}))},changeStep:function(e){var t=this;this.dynamicValidateForm.itemList.forEach((function(e,a){t.removeChain(e,a)})),this.dynamicValidateForm.stepId=e;var a={stepId:e};Object(r["i"])(a).then((function(e){e.data.forEach((function(e){t.addChain(e)}))}))},handleRemove:function(e,t){var a=this;try{this.dynamicValidateForm.addedFileList.forEach((function(t,i){if(t.fileName===e.name)throw a.dynamicValidateForm.addedFileList.splice(i,1),Error()}))}catch(i){}console.log(this.dynamicValidateForm.addedFileList)},handleExceed:function(e,t){this.$message.warning("当前限制选择 3 个文件，本次选择了 ".concat(e.length," 个文件，共选择了 ").concat(e.length+t.length," 个文件"))},beforeRemove:function(e,t){return this.$confirm("确定移除 ".concat(e.name,"？"))},uploadFile:function(e){var t=this,a=new FormData;a.append("file",e.file),a.append("FileName",e.file.name),a.append("async",!1),Object(r["t"])(a).then((function(a){t.dynamicValidateForm.addedFileList.push({fileName:e.file.name,fileNo:a.data})}))},submitForm:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return!1;Object(r["c"])(t.dynamicValidateForm).then((function(e){0===e.code&&t.$confirm("提交成功","提交成功",{confirmButtonText:"返回",type:"success",showCancelButton:!1,closeOnClickModal:!1}).then((function(){t.$router.push({path:"/data/list"})}))}))}))},resetForm:function(e){this.$refs[e].resetFields()},addChain:function(e){this.dynamicValidateForm.itemList.push({enName:e.enName,enValue:"",chName:e.chName})},removeChain:function(e,t){0!==t&&this.dynamicValidateForm.itemList.splice(t)}}},l=o,d=(a("ce40"),a("2877")),c=Object(d["a"])(l,i,n,!1,null,null,null);t["default"]=c.exports}}]);