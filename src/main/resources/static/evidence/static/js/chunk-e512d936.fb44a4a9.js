(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e512d936"],{a434:function(t,e,n){"use strict";var a=n("23e7"),i=n("23cb"),r=n("a691"),o=n("50c4"),c=n("7b0b"),u=n("65f0"),d=n("8418"),s=n("1dde"),l=n("ae40"),m=s("splice"),f=l("splice",{ACCESSORS:!0,0:0,1:2}),p=Math.max,h=Math.min,b=9007199254740991,v="Maximum allowed length exceeded";a({target:"Array",proto:!0,forced:!m||!f},{splice:function(t,e){var n,a,s,l,m,f,C=c(this),y=o(C.length),g=i(t,y),O=arguments.length;if(0===O?n=a=0:1===O?(n=0,a=y-g):(n=O-2,a=h(p(r(e),0),y-g)),y+n-a>b)throw TypeError(v);for(s=u(C,a),l=0;l<a;l++)m=g+l,m in C&&d(s,l,C[m]);if(s.length=a,n<a){for(l=g;l<y-a;l++)m=l+a,f=l+n,m in C?C[f]=C[m]:delete C[f];for(l=y;l>y-a+n;l--)delete C[l-1]}else if(n>a)for(l=y-a;l>g;l--)m=l+a-1,f=l+n-1,m in C?C[f]=C[m]:delete C[f];for(l=0;l<n;l++)C[l+g]=arguments[l+2];return C.length=y-a+n,s}})},ad8f:function(t,e,n){"use strict";n.d(e,"j",(function(){return i})),n.d(e,"f",(function(){return r})),n.d(e,"e",(function(){return o})),n.d(e,"a",(function(){return c})),n.d(e,"q",(function(){return u})),n.d(e,"k",(function(){return d})),n.d(e,"m",(function(){return s})),n.d(e,"t",(function(){return l})),n.d(e,"i",(function(){return m})),n.d(e,"d",(function(){return f})),n.d(e,"g",(function(){return p})),n.d(e,"l",(function(){return h})),n.d(e,"b",(function(){return b})),n.d(e,"r",(function(){return v})),n.d(e,"h",(function(){return C})),n.d(e,"p",(function(){return y})),n.d(e,"c",(function(){return g})),n.d(e,"u",(function(){return O})),n.d(e,"s",(function(){return j})),n.d(e,"n",(function(){return F})),n.d(e,"o",(function(){return N}));var a=n("b775");function i(t){return Object(a["a"])({url:"/eviChain/product/list",method:"post",data:t})}function r(){return Object(a["a"])({url:"/eviChain/user/chainInfo",method:"post"})}function o(t){return Object(a["a"])({url:"/eviChain/user/deployContract",method:"post",data:t})}function c(t){return Object(a["a"])({url:"/eviChain/product/add",method:"post",data:t})}function u(t){return Object(a["a"])({url:"/eviChain/product/modify",method:"post",data:t})}function d(){return Object(a["a"])({url:"/eviChain/product/selectList",method:"post"})}function s(t){return Object(a["a"])({url:"/eviChain/step/selectList",method:"post",data:t})}function l(t){return Object(a["a"])({url:"/eviChain/file/upload",method:"post",data:t})}function m(t){return Object(a["a"])({url:"/eviChain/field/selectList",method:"post",data:t})}function f(t){return Object(a["a"])({url:"/eviChain/field/add",method:"post",data:t})}function p(t){return Object(a["a"])({url:"/eviChain/data/list",method:"post",data:t})}function h(t){return Object(a["a"])({url:"/eviChain/step/list",method:"post",data:t})}function b(t){return Object(a["a"])({url:"/eviChain/step/add",method:"post",data:t})}function v(t){return Object(a["a"])({url:"/eviChain/step/modify",method:"post",data:t})}function C(t){return Object(a["a"])({url:"/eviChain/field/list",method:"post",data:t})}function y(t){return Object(a["a"])({url:"/eviChain/field/modify",method:"post",data:t})}function g(t){return Object(a["a"])({url:"/eviChain/data/bqSave",method:"post",data:t})}function O(t){return Object(a["a"])({url:"/eviChain/data/validChain",method:"post",data:t})}function j(t){return Object(a["a"])({url:"/eviChain/data/previewChain",method:"post",data:t})}function F(){return Object(a["a"])({url:"/eviChain/data/getTotalInfo",method:"post"})}function N(t){return Object(a["a"])({url:"/eviChain/user/"+t,method:"post"})}},ad9c:function(t,e,n){},b2a7:function(t,e,n){"use strict";n("ad9c")},d073:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"create-form"},[n("el-form",{ref:"dynamicValidateForm",staticClass:"demo-dynamic",attrs:{model:t.dynamicValidateForm,rules:t.createRules,"label-width":"100px"}},[n("el-form-item",{attrs:{prop:"productId",label:"产品"}},[n("el-select",{staticClass:"select-32",attrs:{clearable:""},on:{change:t.changeProduct},model:{value:t.dynamicValidateForm.productId,callback:function(e){t.$set(t.dynamicValidateForm,"productId",e)},expression:"dynamicValidateForm.productId"}},t._l(t.productList,(function(e){return n("el-option",{key:e.productName,attrs:{label:e.productName,value:e.id}},[n("span",{staticClass:"font-color-ed5454"},[t._v(t._s(e.productName))])])})),1)],1),n("el-form-item",{attrs:{prop:"stepId",label:"节点"}},[n("el-select",{staticClass:"select-32",attrs:{clearable:""},on:{change:t.changeStep},model:{value:t.dynamicValidateForm.stepId,callback:function(e){t.$set(t.dynamicValidateForm,"stepId",e)},expression:"dynamicValidateForm.stepId"}},t._l(t.stepList,(function(e){return n("el-option",{key:e.stepName,attrs:{label:e.stepName,value:e.id}},[n("span",{staticClass:"font-color-ed5454"},[t._v(t._s(e.stepName))])])})),1)],1),t._l(t.dynamicValidateForm.itemList,(function(e,a){return n("el-form-item",{key:e.key,staticClass:"demo-form-inline",attrs:{label:"存证要素"+a}},[n("el-row",[n("el-col",{attrs:{span:8}},[n("el-form-item",{attrs:{label:"",prop:"itemList."+a+".chName",rules:t.createRules.chName}},[n("el-input",{attrs:{placeholder:"要素中文名"},model:{value:e.chName,callback:function(n){t.$set(e,"chName",n)},expression:"chain.chName"}})],1)],1),n("el-col",{attrs:{span:8}},[n("el-form-item",{attrs:{label:"",prop:"itemList."+a+".enName",rules:t.createRules.enName}},[n("el-input",{attrs:{placeholder:"要素英文名"},model:{value:e.enName,callback:function(n){t.$set(e,"enName",n)},expression:"chain.enName"}})],1)],1),n("el-col",{attrs:{span:1}},[e.isSelect?t._e():n("div",{staticStyle:{"padding-left":"5px"}},[n("el-button",{attrs:{type:"text"},on:{click:function(n){return t.removeChain(e)}}},[t._v("移除 ")])],1)])],1)],1)})),n("el-form-item",[n("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.submitForm("dynamicValidateForm")}}},[t._v("提交 ")]),n("el-button",{on:{click:t.addChain}},[t._v("新增")])],1)],2)],1)])},i=[],r=(n("a434"),n("ad8f")),o={data:function(){return{createRules:{productId:[{required:!0,message:"请选择产品",trigger:"blur"}],stepId:[{required:!0,message:"请选择节点",trigger:"blur"}],chName:[{required:!0,message:"请输入要素中文名",trigger:"blur"}],enName:[{required:!0,message:"请选要素英文名",trigger:"blur"}]},productList:[],stepList:[],dynamicValidateForm:{itemList:[{chName:"",enName:""}],productId:null,stepId:null}}},created:function(){var t=this;Object(r["k"])().then((function(e){t.productList=e.data}))},methods:{changeProduct:function(t){var e=this;this.stepList=[],this.dynamicValidateForm.stepId=null;var n={productId:t};Object(r["m"])(n).then((function(t){e.stepList=t.data}))},changeStep:function(t){this.dynamicValidateForm.stepId=t},submitForm:function(t){var e=this;this.$refs[t].validate((function(t){return!!t&&(0===e.dynamicValidateForm.itemList.length?(e.$message({message:"存证要素项至少有一项",type:"warning"}),!1):void Object(r["d"])(e.dynamicValidateForm).then((function(t){0===t.code&&e.$confirm("提交成功","提交成功",{confirmButtonText:"返回",type:"success",showCancelButton:!1,closeOnClickModal:!1}).then((function(){e.$router.push({path:"/field/list"})}))})))}))},resetForm:function(t){this.$refs[t].resetFields()},removeChain:function(t){var e=this.dynamicValidateForm.itemList.indexOf(t);-1!==e&&this.dynamicValidateForm.itemList.splice(e,1)},addChain:function(){this.dynamicValidateForm.itemList.push({chName:"",enName:""})}}},c=o,u=(n("b2a7"),n("2877")),d=Object(u["a"])(c,a,i,!1,null,null,null);e["default"]=d.exports}}]);